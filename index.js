var rawDataURL = 'https://5ee311f28b27f30016095353.mockapi.io/data/prediction';
var xField = 'Date';
var yField = 'Mean_TemperatureC';

var selectorOptions = {
    buttons: [{
        step: 'month',
        stepmode: 'backward',
        count: 1,
        label: '1m'
    }, {
        step: 'month',
        stepmode: 'backward',
        count: 6,
        label: '6m'
    }, {
        step: 'year',
        stepmode: 'todate',
        count: 1,
        label: 'YTD'
    }, {
        step: 'year',
        stepmode: 'backward',
        count: 1,
        label: '1y'
    }, {
        step: 'all',
    }],
};

data2 = [{
    "11": 11,
    "18": 14,
    "25": 18,
    "4/27/2015": "5/24/2015"
  },
  {
    "11": 11,
    "18": 13,
    "25": 16,
    "4/27/2015": "5/25/2015"
  },
  {
    "11": 12,
    "18": 17,
    "25": 22,
    "4/27/2015": "5/26/2015"
  },
  {
    "11": 12,
    "18": 18,
    "25": 24,
    "4/27/2015": "5/27/2015"
  },
  {
    "11": 12,
    "18": 20,
    "25": 28,
    "4/27/2015": "5/28/2015"
  },
  {
    "11": 13,
    "18": 19,
    "25": 26,
    "4/27/2015": "5/29/2015"
  },
  {
    "11": 10,
    "18": 17,
    "25": 23,
    "4/27/2015": "5/30/2015"
  },
  {
    "11": 12,
    "18": 18,
    "25": 25,
    "4/27/2015": "5/31/2015"
  },
  {
    "11": 12,
    "18": 14,
    "25": 16,
    "4/27/2015": "6/1/2015"
  },
  {
    "11": 13,
    "18": 16,
    "25": 18,
    "4/27/2015": "6/2/2015"
  },
  {
    "11": 12,
    "18": 16,
    "25": 20,
    "4/27/2015": "6/3/2015"
  },
  {
    "11": 12,
    "18": 17,
    "25": 23,
    "4/27/2015": "6/4/2015"
  },
  {
    "11": 13,
    "18": 20,
    "25": 27,
    "4/27/2015": "6/5/2015"
  },
  {
    "11": 13,
    "18": 22,
    "25": 29,
    "4/27/2015": "6/6/2015"
  },
  {
    "11": 16,
    "18": 23,
    "25": 31,
    "4/27/2015": "6/7/2015"
  },
  {
    "11": 14,
    "18": 23,
    "25": 31,
    "4/27/2015": "6/8/2015"
  },
  {
    "11": 14,
    "18": 22,
    "25": 29,
    "4/27/2015": "6/9/2015"
  },
  {
    "11": 11,
    "18": 18,
    "25": 26,
    "4/27/2015": "6/10/2015"
  },
  {
    "11": 11,
    "18": 18,
    "25": 24,
    "4/27/2015": "6/11/2015"
  },
  {
    "11": 12,
    "18": 16,
    "25": 20,
    "4/27/2015": "6/12/2015"
  },
  {
    "11": 9,
    "18": 17,
    "25": 24,
    "4/27/2015": "6/13/2015"
  },
  {
    "11": 12,
    "18": 20,
    "25": 28,
    "4/27/2015": "6/14/2015"
  },
  {
    "11": 16,
    "18": 23,
    "25": 30,
    "4/27/2015": "6/15/2015"
  },
  {
    "11": 11,
    "18": 17,
    "25": 23,
    "4/27/2015": "6/16/2015"
  },
  {
    "11": 11,
    "18": 18,
    "25": 25,
    "4/27/2015": "6/17/2015"
  },
  {
    "11": 14,
    "18": 19,
    "25": 24,
    "4/27/2015": "6/18/2015"
  },
  {
    "11": 13,
    "18": 19,
    "25": 24,
    "4/27/2015": "6/19/2015"
  },
  {
    "11": 13,
    "18": 19,
    "25": 25,
    "4/27/2015": "6/20/2015"
  },
  {
    "11": 14,
    "18": 20,
    "25": 26,
    "4/27/2015": "6/21/2015"
  },
  {
    "11": 13,
    "18": 19,
    "25": 25,
    "4/27/2015": "6/22/2015"
  },
  {
    "11": 12,
    "18": 19,
    "25": 26,
    "4/27/2015": "6/23/2015"
  },
  {
    "11": 16,
    "18": 21,
    "25": 26,
    "4/27/2015": "6/24/2015"
  },
  {
    "11": 16,
    "18": 23,
    "25": 31,
    "4/27/2015": "6/25/2015"
  },
  {
    "11": 18,
    "18": 25,
    "25": 32,
    "4/27/2015": "6/26/2015"
  },
  {
    "11": 17,
    "18": 26,
    "25": 33,
    "4/27/2015": "6/27/2015"
  },
  {
    "11": 18,
    "18": 23,
    "25": 28,
    "4/27/2015": "6/28/2015"
  },
  {
    "11": 17,
    "18": 23,
    "25": 29,
    "4/27/2015": "6/29/2015"
  },
  {
    "11": 15,
    "18": 23,
    "25": 31,
    "4/27/2015": "6/30/2015"
  },
  {
    "11": 17,
    "18": 25,
    "25": 32,
    "4/27/2015": "7/1/2015"
  },
  {
    "11": 18,
    "18": 26,
    "25": 34,
    "4/27/2015": "7/2/2015"
  },
  {
    "11": 18,
    "18": 26,
    "25": 33,
    "4/27/2015": "7/3/2015"
  },
  {
    "11": 15,
    "18": 24,
    "25": 33,
    "4/27/2015": "7/4/2015"
  },
  {
    "11": 17,
    "18": 25,
    "25": 33,
    "4/27/2015": "7/5/2015"
  },
  {
    "11": 16,
    "18": 23,
    "25": 29,
    "4/27/2015": "7/6/2015"
  },
  {
    "11": 14,
    "18": 21,
    "25": 27,
    "4/27/2015": "7/7/2015"
  },
  {
    "11": 14,
    "18": 22,
    "25": 30,
    "4/27/2015": "7/8/2015"
  },
  {
    "11": 14,
    "18": 22,
    "25": 29,
    "4/27/2015": "7/9/2015"
  },
  {
    "11": 17,
    "18": 19,
    "25": 21,
    "4/27/2015": "7/10/2015"
  },
  {
    "11": 17,
    "18": 19,
    "25": 22,
    "4/27/2015": "7/11/2015"
  },
  {
    "11": 17,
    "18": 22,
    "25": 26,
    "4/27/2015": "7/12/2015"
  },
  {
    "11": 16,
    "18": 21,
    "25": 26,
    "4/27/2015": "7/13/2015"
  },
  {
    "11": 16,
    "18": 22,
    "25": 28,
    "4/27/2015": "7/14/2015"
  },
  {
    "11": 14,
    "18": 21,
    "25": 26,
    "4/27/2015": "7/15/2015"
  },
  {
    "11": 15,
    "18": 21,
    "25": 26,
    "4/27/2015": "7/16/2015"
  },
  {
    "11": 14,
    "18": 21,
    "25": 28,
    "4/27/2015": "7/17/2015"
  },
  {
    "11": 18,
    "18": 26,
    "25": 33,
    "4/27/2015": "7/18/2015"
  },
  {
    "11": 17,
    "18": 26,
    "25": 35,
    "4/27/2015": "7/19/2015"
  },
  {
    "11": 17,
    "18": 22,
    "25": 27,
    "4/27/2015": "7/20/2015"
  },
  {
    "11": 15,
    "18": 19,
    "25": 24,
    "4/27/2015": "7/21/2015"
  },
  {
    "11": 14,
    "18": 19,
    "25": 24,
    "4/27/2015": "7/22/2015"
  },
  {
    "11": 14,
    "18": 21,
    "25": 26,
    "4/27/2015": "7/23/2015"
  },
  {
    "11": 13,
    "18": 18,
    "25": 23,
    "4/27/2015": "7/24/2015"
  },
  {
    "11": 14,
    "18": 18,
    "25": 21,
    "4/27/2015": "7/25/2015"
  },
  {
    "11": 14,
    "18": 18,
    "25": 22,
    "4/27/2015": "7/26/2015"
  },
  {
    "11": 12,
    "18": 18,
    "25": 23,
    "4/27/2015": "7/27/2015"
  },
  {
    "11": 14,
    "18": 21,
    "25": 28,
    "4/27/2015": "7/28/2015"
  },
  {
    "11": 14,
    "18": 23,
    "25": 32,
    "4/27/2015": "7/29/2015"
  },
  {
    "11": 17,
    "18": 26,
    "25": 34,
    "4/27/2015": "7/30/2015"
  },
  {
    "11": 18,
    "18": 26,
    "25": 34,
    "4/27/2015": "7/31/2015"
  },
  {
    "11": 16,
    "18": 24,
    "25": 33,
    "4/27/2015": "8/1/2015"
  },
  {
    "11": 16,
    "18": 23,
    "25": 31,
    "4/27/2015": "8/2/2015"
  },
  {
    "11": 17,
    "18": 23,
    "25": 28,
    "4/27/2015": "8/3/2015"
  },
  {
    "11": 14,
    "18": 21,
    "25": 26,
    "4/27/2015": "8/4/2015"
  },
  {
    "11": 12,
    "18": 18,
    "25": 23,
    "4/27/2015": "8/5/2015"
  },
  {
    "11": 15,
    "18": 20,
    "25": 25,
    "4/27/2015": "8/6/2015"
  },
  {
    "11": 16,
    "18": 22,
    "25": 28,
    "4/27/2015": "8/7/2015"
  },
  {
    "11": 16,
    "18": 21,
    "25": 25,
    "4/27/2015": "8/8/2015"
  },
  {
    "11": 15,
    "18": 22,
    "25": 28,
    "4/27/2015": "8/9/2015"
  },
  {
    "11": 16,
    "18": 23,
    "25": 29,
    "4/27/2015": "8/10/2015"
  },
  {
    "11": 17,
    "18": 23,
    "25": 30,
    "4/27/2015": "8/11/2015"
  },
  {
    "11": 17,
    "18": 23,
    "25": 28,
    "4/27/2015": "8/12/2015"
  },
  {
    "11": 16,
    "18": 22,
    "25": 28,
    "4/27/2015": "8/13/2015"
  },
  {
    "11": 15,
    "18": 17,
    "25": 18,
    "4/27/2015": "8/14/2015"
  },
  {
    "11": 14,
    "18": 18,
    "25": 22,
    "4/27/2015": "8/15/2015"
  },
  {
    "11": 14,
    "18": 20,
    "25": 25,
    "4/27/2015": "8/16/2015"
  },
  {
    "11": 14,
    "18": 21,
    "25": 27,
    "4/27/2015": "8/17/2015"
  },
  {
    "11": 15,
    "18": 23,
    "25": 30,
    "4/27/2015": "8/18/2015"
  },
  {
    "11": 16,
    "18": 24,
    "25": 32,
    "4/27/2015": "8/19/2015"
  },
  {
    "11": 14,
    "18": 19,
    "25": 23,
    "4/27/2015": "8/20/2015"
  },
  {
    "11": 14,
    "18": 18,
    "25": 22,
    "4/27/2015": "8/21/2015"
  },
  {
    "11": 12,
    "18": 19,
    "25": 27,
    "4/27/2015": "8/22/2015"
  },
  {
    "11": 14,
    "18": 21,
    "25": 28,
    "4/27/2015": "8/23/2015"
  },
  {
    "11": 12,
    "18": 18,
    "25": 24,
    "4/27/2015": "8/24/2015"
  },
  {
    "11": 12,
    "18": 19,
    "25": 26,
    "4/27/2015": "8/25/2015"
  },
  {
    "11": 14,
    "18": 21,
    "25": 28,
    "4/27/2015": "8/26/2015"
  },
  {
    "11": 14,
    "18": 22,
    "25": 29,
    "4/27/2015": "8/27/2015"
  },
  {
    "11": 16,
    "18": 19,
    "25": 23,
    "4/27/2015": "8/28/2015"
  },
  {
    "11": 13,
    "18": 18,
    "25": 22,
    "4/27/2015": "8/29/2015"
  },
  {
    "11": 13,
    "18": 17,
    "25": 20,
    "4/27/2015": "8/30/2015"
  },
  {
    "11": 16,
    "18": 18,
    "25": 19,
    "4/27/2015": "8/31/2015"
  },
  {
    "11": 14,
    "18": 17,
    "25": 19,
    "4/27/2015": "9/1/2015"
  },
  {
    "11": 11,
    "18": 16,
    "25": 19,
    "4/27/2015": "9/2/2015"
  },
  {
    "11": 11,
    "18": 14,
    "25": 18,
    "4/27/2015": "9/3/2015"
  },
  {
    "11": 10,
    "18": 14,
    "25": 18,
    "4/27/2015": "9/4/2015"
  },
  {
    "11": 9,
    "18": 15,
    "25": 21,
    "4/27/2015": "9/5/2015"
  },
  {
    "11": 12,
    "18": 14,
    "25": 16,
    "4/27/2015": "9/6/2015"
  },
  {
    "11": 13,
    "18": 17,
    "25": 21,
    "4/27/2015": "9/7/2015"
  },
  {
    "11": 13,
    "18": 18,
    "25": 23,
    "4/27/2015": "9/8/2015"
  },
  {
    "11": 14,
    "18": 19,
    "25": 24,
    "4/27/2015": "9/9/2015"
  },
  {
    "11": 14,
    "18": 20,
    "25": 25,
    "4/27/2015": "9/10/2015"
  }]

data1 = [{
    "11": 9,
    "18": 12,
    "25": 16,
    "4/27/2015": "4/28/2015"
  },
  {
    "11": 7,
    "18": 12,
    "25": 16,
    "4/27/2015": "4/29/2015"
  },
  {
    "11": 8,
    "18": 13,
    "25": 17,
    "4/27/2015": "4/30/2015"
  },
  {
    "11": 9,
    "18": 14,
    "25": 18,
    "4/27/2015": "5/1/2015"
  },
  {
    "11": 8,
    "18": 13,
    "25": 18,
    "4/27/2015": "5/2/2015"
  },
  {
    "11": 8,
    "18": 14,
    "25": 21,
    "4/27/2015": "5/3/2015"
  },
  {
    "11": 7,
    "18": 12,
    "25": 17,
    "4/27/2015": "5/4/2015"
  },
  {
    "11": 7,
    "18": 11,
    "25": 14,
    "4/27/2015": "5/5/2015"
  },
  {
    "11": 7,
    "18": 12,
    "25": 17,
    "4/27/2015": "5/6/2015"
  },
  {
    "11": 6,
    "18": 13,
    "25": 21,
    "4/27/2015": "5/7/2015"
  },
  {
    "11": 8,
    "18": 16,
    "25": 24,
    "4/27/2015": "5/8/2015"
  },
  {
    "11": 9,
    "18": 18,
    "25": 27,
    "4/27/2015": "5/9/2015"
  },
  {
    "11": 11,
    "18": 16,
    "25": 19,
    "4/27/2015": "5/10/2015"
  },
  {
    "11": 10,
    "18": 12,
    "25": 14,
    "4/27/2015": "5/11/2015"
  },
  {
    "11": 11,
    "18": 13,
    "25": 16,
    "4/27/2015": "5/12/2015"
  },
  {
    "11": 10,
    "18": 11,
    "25": 12,
    "4/27/2015": "5/13/2015"
  },
  {
    "11": 9,
    "18": 14,
    "25": 18,
    "4/27/2015": "5/14/2015"
  },
  {
    "11": 9,
    "18": 15,
    "25": 20,
    "4/27/2015": "5/15/2015"
  },
  {
    "11": 11,
    "18": 13,
    "25": 16,
    "4/27/2015": "5/16/2015"
  },
  {
    "11": 11,
    "18": 15,
    "25": 19,
    "4/27/2015": "5/17/2015"
  },
  {
    "11": 12,
    "18": 19,
    "25": 26,
    "4/27/2015": "5/18/2015"
  },
  {
    "11": 12,
    "18": 17,
    "25": 22,
    "4/27/2015": "5/19/2015"
  },
  {
    "11": 11,
    "18": 17,
    "25": 23,
    "4/27/2015": "5/20/2015"
  },
  {
    "11": 12,
    "18": 19,
    "25": 26,
    "4/27/2015": "5/21/2015"
  },
  {
    "11": 12,
    "18": 14,
    "25": 17,
    "4/27/2015": "5/22/2015"
  },
  {
    "11": 12,
    "18": 14,
    "25": 16,
    "4/27/2015": "5/23/2015"
  }]



Plotly.d3.json(rawDataURL, function(err, rawData) {
    debugger;
    if(err) throw err;

    var data = prepData(rawData);
    var layout = {
        title: 'Time series with range slider and selectors',
        xaxis: {
            rangeselector: selectorOptions,
            rangeslider: {}
        },
        yaxis: {
            fixedrange: true
        }
    };

    Plotly.newPlot('graph1', data, layout);
});

Plotly.d3.json(rawDataURL, function(err, rawData) {
    debugger;
    if(err) throw err;

    var data = prepData(rawData);
    var layout = {
        title: 'Time series without range slider and selectors',
        xaxis: {
            rangeselector: selectorOptions
        },
        yaxis: {
            fixedrange: true
        }
    };

    Plotly.newPlot('graph2', data, layout);
});

function prepData(rawData) {
    var x = [];
    var y = [];

    rawData.forEach(function(datum, i) {

        x.push(new Date(datum[xField]));
        y.push(datum[yField]);
    });

    return [{
        mode: 'lines',
        x: x,
        y: y
    }];
};

// trace1 = prepData(data1);
// trace2 = prepData(data2);
// data = [trace1, trace2];
// var layout = {
//     title: 'Time series with range slider and selectors',
//     xaxis: {
//         rangeselector: selectorOptions
//     },
//     yaxis: {
//         fixedrange: true
//     }
// };
// Plotly.newPlot('graph', trace1, layout);